<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simulation 1</title>
  <script src="../../script/simulation.js"></script>

  <link rel="stylesheet" href="../css/exp1.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap"
    rel="stylesheet" />
</head>

<body>
  <div class="flex justify-between logo"><img width=150 src="../image/srmlogo.png"><h1>Control Engineering Lab</h1></div>

  <div class="box">
         
        Original circuit:
      </h2>
      <img style="  margin: auto;  width: 100%;" src="../image/simulationImage/sim1.png" />
  
      <div class="question" style="margin-top: 1.2rem">
       
        <label for="block">Enter the gain for the blocks are is series:</label>
        <input id="ans-sim-1-step-1-h" type="text" id="block" name="block" size="10" placeholder="Enter your answer here"
          style="
              margin-left: 1.5rem;
    border: none;
    -webkit-appearance: none;
    -ms-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background: #f2f2f2;
    padding: 12px;
    border-radius: 3px;
    width: 250px;
    font-size: 14px;
  " /><br /><h4 style="  margin: auto;  margin-top: 2rem;" id="ans-sim-1-step-1-w">
          </h4>
        <button style="margin-top: 2rem; " class="button button2" onclick="show_ans(this)"
          id="ans-sim-1-step-1">Submit</button>
        <button style="margin-top: 2rem; " class="button button2" onclick="show_help(this)"
          id="hint-sim-1-step-1">Hint</button>
          <a class="mainMenu" href="simulation2.html">
           <button style="margin-top: 2rem; visibility: hidden;" class="button button2"  id="ans-sim-1-step-1-n" >Next</button>
          </a>
           <button style="margin-top: 2rem; visibility: hidden;" class="button button2"  id="ans-sim-1-step-1-ans" onclick="show_final_answer(this)" >Show answer</button>
    
        <h4 style="font-weight: normal;  margin: auto;  visibility: hidden; margin-top: 2rem;" id="hint-sim-1-step-1-h">
          Hint - Two blocks are in series</h4>
        <h2 style="margin-top: 2rem">
        
    </div>
  </div>
  </div>
  <script>
    let counter = 0;

function show_help(btn) {
  document.getElementById(`${btn.id}-h`).style.visibility = "visible";
}

function show_ans(btn) {
  let val = document.getElementById(`${btn.id}-h`).value;
  val = val.replaceAll(" ", "").toUpperCase();
  const ans = value(btn.id);
  if (ans.includes(val)) {
    document.getElementById(`${btn.id}-w`).innerHTML =
      "Correct answer! You can now move to the next simulation.";
    document.getElementById(`${btn.id}-w`).style.color = "#00FF00";
    document.getElementById(`${btn.id}-n`).style.visibility = "visible";
  } else if (counter < 3 && !ans.includes(val)) {
    counter++;
    document.getElementById(`${btn.id}-w`).innerHTML =
      "Wrong answer! Try again or click on hint button.";
    document.getElementById(`${btn.id}-w`).style.color = "#ff0000";
  } else {
    document.getElementById(`${btn.id}-w`).innerHTML =
      "Wrong answer! Try again or click on the answer button to get the answer and move forward!";
    document.getElementById(`${btn.id}-w`).style.color = "#ff0000";
    document.getElementById(`${btn.id}-ans`).style.visibility = "visible";
    document.getElementById(`${btn.id}-n`).style.visibility = "visible";
  }
}

function show_final_answer(btn) {
  const id = btn.id.substring(0, btn.id.lastIndexOf("-"));
  document.getElementById(`${id}-w`).innerHTML = `Answer: ${value(id)[0]}`;
}

function value(id) {
  switch (id) {
    case "ans-sim-1-step-1":
      return ["G1*G2", "G1G2"];
    case "ans-sim-1-step-2":
      return ["G5+G6"];
    case "ans-sim-1-step-3":
      return ["1/(G5+G6)"];
    case "ans-sim-1-step-4":
      return ["G4*(G5+G6)", "G4(G5+G6)"];
    case "ans-sim-1-step-5":
      return ["G4*(G5+G6)", "G4(G5+G6)"];
    case "ans-sim-1-step-6":
      return ["1/G1G2", "1/(G1*G2))"];
    case "ans-sim-1-step-7":
      return ["H3/G1G2(G5+G6)", "H3/(G1*G2)(G5+G6)", "H3/G1(G5+G6)G2"];
    case "ans-sim-1-step-8":
      return ["G1G2G3", "G1*G2*G3"];
    case "ans-sim-1-step-9":
      return ["G1G2G3/(1+G1G2G3H1)", "G1*G2*G3/(1+G1*G2*G3*H1)"];
    case "ans-sim-1-step-10":
      return ["G4(G5+G6)/(1+G4H2(G5+G6))", "G4*(G5+G6)/(1+G4*H2*(G5+G6)"];

    case "ans-sim-1-step-11":
      return [
        "G1G2G3G4(G5+G6)/(1+G1G2G3H1)(1+G4H2(G5+G6))",
        "G1*G2*G3*G4(G5+G6)/(1+G1*G2*G3*H1)(1+G4*H2*(G5+G6))",
      ];
    case "ans-sim-1-step-12":
      return [
        "G1G2G3G4(G5+G6)/((1+G1G2G3H1)(1+G4H2(G5+G6)+G3G4H3))",
        "G1*G2*G3*G4*(G5+G6)/((1+G1*G2*G3*H1)(1+G4*H2*(G5+G6)+G3*G4*H3))",
      ];
  }
}

function displayAnswerpost() {
  let c = 0;
  if (document.getElementById("option-11").checked) {
    c++;
    document.getElementById("block-11").style.border = "3px solid limegreen";
    document.getElementById("result-11").style.color = "limegreen";
    document.getElementById("result-11").innerHTML = "Correct!";
    alert(`Correct Answer! On to the next.`);
    window.location = "/html/simulation/simulation4.html";
  }
  if (document.getElementById("option-12").checked) {
    document.getElementById("block-12").style.border = "3px solid red";
    document.getElementById("result-12").style.color = "red";
    document.getElementById("result-12").innerHTML = "Incorrect!";
    document.getElementById("block-11").style.border = "3px solid limegreen";
    document.getElementById("result-11").style.color = "limegreen";
    document.getElementById("result-11").innerHTML =
      "This is the correct answer!";
  }
}

function displayAnswer() {
  let c = 0;
  if (document.getElementById("option-11").checked) {
    c++;
    document.getElementById("block-11").style.border = "3px solid limegreen";
    document.getElementById("result-11").style.color = "limegreen";
    document.getElementById("result-11").innerHTML = "Correct!";
    alert(`Correct Answer! On to the next.`);
    window.location = "/html/simulation/simulation8.html";
    return;
  }
  if (document.getElementById("option-12").checked) {
    document.getElementById("block-12").style.border = "3px solid red";
    document.getElementById("result-12").style.color = "red";
    document.getElementById("result-12").innerHTML = "Incorrect!";
    document.getElementById("block-11").style.border = "3px solid limegreen";
    document.getElementById("result-11").style.color = "limegreen";
    document.getElementById("result-11").innerHTML =
      "This is the correct answer!";
  }
  if (document.getElementById("option-13").checked) {
    document.getElementById("block-13").style.border = "3px solid red";
    document.getElementById("result-13").style.color = "red";
    document.getElementById("result-13").innerHTML = "Incorrect!";
    document.getElementById("block-11").style.border = "3px solid limegreen";
    document.getElementById("result-11").style.color = "limegreen";
    document.getElementById("result-11").innerHTML =
      "This is the correct answer!";
  }
  if (document.getElementById("option-14").checked) {
    document.getElementById("block-14").style.border = "3px solid red";
    document.getElementById("result-14").style.color = "red";
    document.getElementById("result-14").innerHTML = "Incorrect!";
    document.getElementById("block-11").style.border = "3px solid limegreen";
    document.getElementById("result-11").style.color = "limegreen";
    document.getElementById("result-11").innerHTML =
      "This is the correct answer!";
  }
}

  </script>
</body>

</html>
